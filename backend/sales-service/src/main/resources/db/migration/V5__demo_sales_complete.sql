-- =====================================================
-- Sales Service - Demo Sales Data for E2E Testing
-- =====================================================
-- Complete demo data: sessions, sales, items, payments
-- =====================================================

-- =====================================================
-- DEMO CASH SESSIONS (Last 7 days)
-- =====================================================
INSERT INTO cash_sessions (id, tenant_id, register_id, user_id, monto_inicial, monto_final, monto_teorico, diferencia, estado, apertura_at, cierre_at) VALUES
-- Today's open session
('ce100000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'ca100000-0000-0000-0000-000000000001', 'ad100000-0000-0000-0000-000000000001', 50000, NULL, NULL, NULL, 'ABIERTA', NOW() - INTERVAL '6 hours', NULL),
-- Yesterday's closed session
('ce100000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'ca100000-0000-0000-0000-000000000001', 'ad100000-0000-0000-0000-000000000001', 50000, 525000, 523500, 1500, 'CERRADA', NOW() - INTERVAL '1 day' - INTERVAL '10 hours', NOW() - INTERVAL '1 day'),
-- 2 days ago
('ce100000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000001', 'ca100000-0000-0000-0000-000000000001', 'ad100000-0000-0000-0000-000000000001', 50000, 412000, 412000, 0, 'CERRADA', NOW() - INTERVAL '2 days' - INTERVAL '10 hours', NOW() - INTERVAL '2 days')
ON CONFLICT DO NOTHING;

-- =====================================================
-- TODAY'S DEMO SALES (Current Session)
-- =====================================================
INSERT INTO sales (id, tenant_id, session_id, command_id, numero, customer_nombre, subtotal, descuento, impuestos, total, estado, created_at, created_by) VALUES
-- Completed sales
('5a100000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000001', '0001', 'María González', 15500, 0, 0, 15500, 'COMPLETADA', NOW() - INTERVAL '5 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a100000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000002', '0002', 'Juan Pérez', 28900, 2000, 0, 26900, 'COMPLETADA', NOW() - INTERVAL '4 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a100000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000003', '0003', NULL, 8500, 0, 0, 8500, 'COMPLETADA', NOW() - INTERVAL '3 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a100000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000004', '0004', 'Roberto Silva', 42300, 0, 0, 42300, 'COMPLETADA', NOW() - INTERVAL '2 hours', 'ad100000-0000-0000-0000-000000000001'),
-- Pending sales (for approval demo)
('5a100000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000005', '0005', 'Ana Martínez', 18700, 0, 0, 18700, 'PENDIENTE', NOW() - INTERVAL '1 hour', 'ad100000-0000-0000-0000-000000000001'),
('5a100000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000001', 'c0d10000-0000-0000-0000-000000000006', '0006', 'Carlos López', 35200, 0, 0, 35200, 'PENDIENTE', NOW() - INTERVAL '30 minutes', 'ad100000-0000-0000-0000-000000000001')
ON CONFLICT DO NOTHING;

-- =====================================================
-- YESTERDAY'S DEMO SALES (Closed Session)
-- =====================================================
INSERT INTO sales (id, tenant_id, session_id, command_id, numero, customer_nombre, subtotal, descuento, impuestos, total, estado, created_at, created_by) VALUES
('5a200000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000001', '0007', 'Patricia Díaz', 22500, 0, 0, 22500, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '8 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000002', '0008', NULL, 45800, 5000, 0, 40800, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '7 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000003', '0009', 'Miguel Torres', 38900, 0, 0, 38900, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '6 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000004', '0010', 'Laura Sánchez', 15200, 0, 0, 15200, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '5 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000005', '0011', 'Diego Morales', 52600, 0, 0, 52600, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '4 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000006', '0012', NULL, 28400, 0, 0, 28400, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '3 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000007', '0013', 'Sofía Herrera', 19300, 0, 0, 19300, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '2 hours', 'ad100000-0000-0000-0000-000000000001'),
('5a200000-0000-0000-0000-000000000008', 'a1000000-0000-0000-0000-000000000001', 'ce100000-0000-0000-0000-000000000002', 'c0d20000-0000-0000-0000-000000000008', '0014', 'Fernando Reyes', 33100, 2000, 0, 31100, 'COMPLETADA', NOW() - INTERVAL '1 day' - INTERVAL '1 hour', 'ad100000-0000-0000-0000-000000000001')
ON CONFLICT DO NOTHING;

-- =====================================================
-- SALE ITEMS (Products sold)
-- =====================================================
INSERT INTO sale_items (id, sale_id, variant_id, product_sku, product_nombre, cantidad, precio_unitario, descuento, impuesto_porcentaje, impuesto_monto, subtotal, total) VALUES
-- Today's sales items
('51100000-0000-0000-0000-000000000001', '5a100000-0000-0000-0000-000000000001', 'b0100000-0000-0000-0000-000000000001', 'PAN-001', 'Pan Marraqueta (kg)', 2, 2500, 0, 0, 0, 5000, 5000),
('51100000-0000-0000-0000-000000000002', '5a100000-0000-0000-0000-000000000001', 'b0100000-0000-0000-0000-000000000002', 'PAS-001', 'Croissant Chocolate', 5, 1500, 0, 0, 0, 7500, 7500),
('51100000-0000-0000-0000-000000000003', '5a100000-0000-0000-0000-000000000001', 'b0100000-0000-0000-0000-000000000003', 'BEB-001', 'Café Americano', 2, 1500, 0, 0, 0, 3000, 3000),
('51100000-0000-0000-0000-000000000004', '5a100000-0000-0000-0000-000000000002', 'b0100000-0000-0000-0000-000000000004', 'TOR-001', 'Torta Chocolate (porción)', 3, 4500, 0, 0, 0, 13500, 13500),
('51100000-0000-0000-0000-000000000005', '5a100000-0000-0000-0000-000000000002', 'b0100000-0000-0000-0000-000000000005', 'EMP-001', 'Empanada Pino', 6, 2400, 0, 0, 0, 14400, 14400),
('51100000-0000-0000-0000-000000000006', '5a100000-0000-0000-0000-000000000003', 'b0100000-0000-0000-0000-000000000001', 'PAN-001', 'Pan Marraqueta (kg)', 3, 2500, 0, 0, 0, 7500, 7500),
('51100000-0000-0000-0000-000000000007', '5a100000-0000-0000-0000-000000000003', 'b0100000-0000-0000-0000-000000000003', 'BEB-001', 'Café Americano', 1, 1000, 0, 0, 0, 1000, 1000),
('51100000-0000-0000-0000-000000000008', '5a100000-0000-0000-0000-000000000004', 'b0100000-0000-0000-0000-000000000006', 'TOR-002', 'Torta Tres Leches', 1, 28000, 0, 0, 0, 28000, 28000),
('51100000-0000-0000-0000-000000000009', '5a100000-0000-0000-0000-000000000004', 'b0100000-0000-0000-0000-000000000002', 'PAS-001', 'Croissant Chocolate', 8, 1500, 0, 0, 0, 12000, 12000),
('51100000-0000-0000-0000-000000000010', '5a100000-0000-0000-0000-000000000005', 'b0100000-0000-0000-0000-000000000005', 'EMP-001', 'Empanada Pino', 4, 2400, 0, 0, 0, 9600, 9600),
('51100000-0000-0000-0000-000000000011', '5a100000-0000-0000-0000-000000000005', 'b0100000-0000-0000-0000-000000000007', 'EMP-002', 'Empanada Queso', 3, 2200, 0, 0, 0, 6600, 6600),
('51100000-0000-0000-0000-000000000012', '5a100000-0000-0000-0000-000000000006', 'b0100000-0000-0000-0000-000000000004', 'TOR-001', 'Torta Chocolate (porción)', 5, 4500, 0, 0, 0, 22500, 22500),
('51100000-0000-0000-0000-000000000013', '5a100000-0000-0000-0000-000000000006', 'b0100000-0000-0000-0000-000000000008', 'PAN-002', 'Pan Hallulla (kg)', 3, 2800, 0, 0, 0, 8400, 8400)
ON CONFLICT DO NOTHING;

-- =====================================================
-- SALE PAYMENTS (Payment methods)
-- =====================================================
INSERT INTO sale_payments (id, sale_id, medio, monto, referencia) VALUES
-- Today's payments
('5b100000-0000-0000-0000-000000000001', '5a100000-0000-0000-0000-000000000001', 'EFECTIVO', 15500, NULL),
('5b100000-0000-0000-0000-000000000002', '5a100000-0000-0000-0000-000000000002', 'DEBITO', 26900, 'TXN-45692'),
('5b100000-0000-0000-0000-000000000003', '5a100000-0000-0000-0000-000000000003', 'EFECTIVO', 8500, NULL),
('5b100000-0000-0000-0000-000000000004', '5a100000-0000-0000-0000-000000000004', 'CREDITO', 42300, 'TXN-45693'),
('5b100000-0000-0000-0000-000000000005', '5a100000-0000-0000-0000-000000000005', 'DEBITO', 18700, 'TXN-45694'),
('5b100000-0000-0000-0000-000000000006', '5a100000-0000-0000-0000-000000000006', 'TRANSFERENCIA', 35200, 'REF-789456'),
-- Yesterday's payments
('5b200000-0000-0000-0000-000000000001', '5a200000-0000-0000-0000-000000000001', 'EFECTIVO', 22500, NULL),
('5b200000-0000-0000-0000-000000000002', '5a200000-0000-0000-0000-000000000002', 'DEBITO', 40800, 'TXN-45680'),
('5b200000-0000-0000-0000-000000000003', '5a200000-0000-0000-0000-000000000003', 'CREDITO', 38900, 'TXN-45681'),
('5b200000-0000-0000-0000-000000000004', '5a200000-0000-0000-0000-000000000004', 'EFECTIVO', 15200, NULL),
('5b200000-0000-0000-0000-000000000005', '5a200000-0000-0000-0000-000000000005', 'TRANSFERENCIA', 52600, 'REF-789450'),
('5b200000-0000-0000-0000-000000000006', '5a200000-0000-0000-0000-000000000006', 'DEBITO', 28400, 'TXN-45682'),
('5b200000-0000-0000-0000-000000000007', '5a200000-0000-0000-0000-000000000007', 'EFECTIVO', 19300, NULL),
('5b200000-0000-0000-0000-000000000008', '5a200000-0000-0000-0000-000000000008', 'CREDITO', 31100, 'TXN-45683')
ON CONFLICT DO NOTHING;
